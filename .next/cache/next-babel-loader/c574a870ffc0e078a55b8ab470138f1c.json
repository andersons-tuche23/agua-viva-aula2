{"ast":null,"code":"var __jsx = React.createElement;\nimport Head from \"next/head\";\nimport React, { useState, useEffect } from \"react\";\nimport ReactGA from \"react-ga\";\nimport Axios from \"axios\";\nimport { console } from \"window-or-global\";\n\nfunction Page() {\n  function initialGA() {\n    ReactGA.initialize(\"UA-170909874-1\");\n    ReactGA.pageview(urlLocal);\n  }\n\n  var urlLocal;\n\n  if (true) {\n    var _window$location;\n\n    urlLocal = (_window$location = window.location) === null || _window$location === void 0 ? void 0 : _window$location.href;\n  }\n\n  initialGA();\n\n  var _useState = useState(true),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState(),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(),\n      orderListagem = _useState3[0],\n      setOrderListagem = _useState3[1];\n\n  var _useState4 = useState(\"todos\"),\n      listagem = _useState4[0],\n      setListagem = _useState4[1];\n\n  var url = \"https://aguaviva-rp.firebaseio.com/teste.json\";\n  var date = new Date();\n  var dia_sem = date.getDay();\n\n  function compared(a, b) {\n    if (a.nome < b.nome) return -1;\n    if (a.nome > b.nome) return 1;\n    return 0;\n  }\n\n  useEffect(function () {\n    if (data) {\n      var array = Object.values(data);\n      var arrayList = array.sort(compared);\n      setOrderListagem(arrayList);\n    }\n  }, [data]);\n  useEffect(function () {// if (data) {\n    //   if (dia_sem >= 1 && dia_sem <= 3) {\n    //     Object.entries(data).map((individuo) => {\n    //       if (individuo[0] != \"base\") {\n    //         doRemove(individuo[0]);\n    //       }\n    //     });\n    //   }\n    // }\n  }, [data]);\n\n  var doRemove = function doRemove(id) {\n    remove(\"https://aguaviva-rp.firebaseio.com/teste/\".concat(id, \".json\"));\n  };\n\n  var remove = function remove(url) {\n    Axios[\"delete\"](url).then(function () {\n      console.log(\"voc\\xEA deletou \".concat(url));\n    });\n  };\n\n  useEffect(function () {\n    setLoading(true);\n    Axios.get(url).then(function (res) {\n      setData(res.data);\n      setLoading(false);\n    });\n  }, []);\n\n  var doEdit = function doEdit(id) {\n    edit(\"https://aguaviva-rp.firebaseio.com/teste/-MB5e82sdWauibP_Ys-q.json\", {\n      nome: \"dasdasdasdasd\",\n      sobrenome: \"dsadasdasdas\",\n      rede: \"manoel\",\n      culto: \"manha\",\n      status: true\n    });\n  };\n\n  var edit = function edit(url, data) {\n    console.log(url, data);\n    Axios.put(url, data).then(function () {\n      console.log(\"voc\\xEA deletou \".concat(url));\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", null, \"Igreja Batista \\xC1gua Viva - Ribeir\\xE3o Pires\")), __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(\"div\", {\n    className: \"header\"\n  }, __jsx(\"img\", {\n    src: \"/images/logo.jpg\"\n  }), __jsx(\"h1\", null, \"Listagem de controle de presen\\xE7a no culto\")), data && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"select\"\n  }, __jsx(\"label\", null, \"Selecione a listagem do culto que deseja ver\"), __jsx(\"select\", {\n    onChange: function onChange(e) {\n      setListagem(e.target.value);\n    }\n  }, __jsx(\"option\", {\n    value: \"todos\"\n  }, \"Todos\"), __jsx(\"option\", {\n    value: \"sabado\"\n  }, \"Sabado - 19hs\"), __jsx(\"option\", {\n    value: \"manha\"\n  }, \"Domingo - 9hs\"), __jsx(\"option\", {\n    value: \"noite\"\n  }, \"Domingo - 18hs\"))), listagem == \"sabado\" && __jsx(React.Fragment, null, __jsx(\"h1\", null, \"Sabado - 19hs\"), __jsx(\"table\", null, __jsx(\"thead\", null, __jsx(\"tr\", null, __jsx(\"th\", null, \"Nome\"), __jsx(\"th\", null, \"Rede\"), __jsx(\"th\", null, \"Status\"))), __jsx(\"tbody\", null, orderListagem && __jsx(React.Fragment, null, orderListagem.map(function (individuo) {\n    if (individuo.culto == \"sabado\") {\n      return __jsx(\"tr\", {\n        key: individuo\n      }, __jsx(\"td\", null, individuo.nome, \" \", individuo.sobrenome), __jsx(\"td\", null, \"Pr \", individuo.rede));\n    }\n  }))))), listagem == \"manha\" && __jsx(React.Fragment, null, __jsx(\"h1\", null, \"Domingo - 9hs\"), __jsx(\"table\", null, __jsx(\"thead\", null, __jsx(\"tr\", null, __jsx(\"th\", null, \"Nome\"), __jsx(\"th\", null, \"Rede\"), __jsx(\"th\", null, \"Status\"))), __jsx(\"tbody\", null, orderListagem && __jsx(React.Fragment, null, orderListagem.map(function (individuo) {\n    if (individuo.culto == \"manha\") {\n      return __jsx(\"tr\", {\n        key: individuo\n      }, __jsx(\"td\", null, individuo.nome, \" \", individuo.sobrenome), __jsx(\"td\", null, \"Pr \", individuo.rede));\n    }\n  }))))), listagem == \"noite\" && __jsx(React.Fragment, null, __jsx(\"h1\", null, \"Domingo - 18hs\"), __jsx(\"table\", null, __jsx(\"thead\", null, __jsx(\"tr\", null, __jsx(\"th\", null, \"Nome\"), __jsx(\"th\", null, \"Rede\"), __jsx(\"th\", null, \"Status\"))), __jsx(\"tbody\", null, orderListagem && __jsx(React.Fragment, null, orderListagem.map(function (individuo) {\n    if (individuo.culto == \"noite\") {\n      return __jsx(\"tr\", {\n        key: individuo\n      }, __jsx(\"td\", null, individuo.nome, \" \", individuo.sobrenome), __jsx(\"td\", null, \"Pr \", individuo.rede));\n    }\n  }))))), listagem == \"todos\" && __jsx(React.Fragment, null, __jsx(\"h1\", null, \"Sabado - 19hs\"), __jsx(\"table\", null, __jsx(\"thead\", null, __jsx(\"tr\", null, __jsx(\"th\", null, \"Nome\"), __jsx(\"th\", null, \"Rede\"), __jsx(\"th\", null, \"Status\"))), __jsx(\"tbody\", null, orderListagem && __jsx(React.Fragment, null, orderListagem.map(function (individuo) {\n    if (individuo.culto == \"sabado\") {\n      return __jsx(\"tr\", {\n        key: individuo\n      }, __jsx(\"td\", null, individuo.nome, \" \", individuo.sobrenome), __jsx(\"td\", null, \"Pr \", individuo.rede));\n    }\n  })))), __jsx(\"h1\", null, \"Domingo - 9hs\"), __jsx(\"table\", null, __jsx(\"thead\", null, __jsx(\"tr\", null, __jsx(\"th\", null, \"Nome\"), __jsx(\"th\", null, \"Rede\"), __jsx(\"th\", null, \"Status\"))), __jsx(\"tbody\", null, orderListagem && __jsx(React.Fragment, null, orderListagem.map(function (individuo) {\n    if (individuo.culto == \"manha\") {\n      return __jsx(\"tr\", {\n        key: individuo\n      }, __jsx(\"td\", null, individuo.nome, \" \", individuo.sobrenome), __jsx(\"td\", null, \"Pr \", individuo.rede), __jsx(\"td\", {\n        onClick: function onClick(e) {\n          doEdit();\n        }\n      }, \"Click\"));\n    }\n  })))), __jsx(\"h1\", null, \"Domingo - 18hs\"), __jsx(\"table\", null, __jsx(\"thead\", null, __jsx(\"tr\", null, __jsx(\"th\", null, \"Nome\"), __jsx(\"th\", null, \"Rede\"), __jsx(\"th\", null, \"Status\"))), __jsx(\"tbody\", null, orderListagem && __jsx(React.Fragment, null, orderListagem.map(function (individuo) {\n    if (individuo.culto == \"noite\") {\n      return __jsx(\"tr\", {\n        key: individuo\n      }, __jsx(\"td\", null, individuo.nome, \" \", individuo.sobrenome), __jsx(\"td\", null, \"Pr \", individuo.rede));\n    }\n  }))))), __jsx(\"div\", {\n    className: \"box-voltar\"\n  }, __jsx(\"a\", {\n    href: \"/\",\n    className: \"button\"\n  }, \"Voltar\"))), loading && __jsx(\"p\", {\n    className: \"carregando\"\n  }, __jsx(\"img\", {\n    src: \"/images/loading.gif\"\n  }), __jsx(\"span\", null, \"Carregando...\"))));\n}\n\nexport default Page;","map":null,"metadata":{},"sourceType":"module"}